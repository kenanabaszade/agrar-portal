# Frontend: Yeni Staj Proqramƒ± Yaratmaq √ú√ß√ºn Materiallar

## üìã Endpoint
```
POST /api/v1/internship-programs
```

## üîê Headers
```
Authorization: Bearer {admin_token}
Content-Type: multipart/form-data
```

## üì¶ G√∂nd…ôrilm…ôli Materiallar

### ‚ö†Ô∏è M∆èCBURƒ∞ SAH∆èL∆èR (Required)

| Sah…ô | Tip | T…ôsvir | N√ºmun…ô |
|------|-----|--------|--------|
| `title` | string (max 255) | Proqramƒ±n adƒ± | "Web Development Stajƒ±" |
| `description` | string | Proqramƒ±n t…ôsviri | "M√ºasir web texnologiyalarƒ± √∂yr…ônm…ôk..." |
| `category` | string (max 100) | Kateqoriya | "IT", "Marketing", "Finance" |
| `duration_weeks` | integer (min 1) | M√ºdd…ôt (h…ôft…ô) | 8, 10, 12 |
| `start_date` | date | Ba≈ülama tarixi (bu g√ºn v…ô ya g…ôl…ôc…ôk) | "2024-03-01" |
| `end_date` | date | Bitm…ô tarixi (start_date-d…ôn sonra, opsional) | "2024-05-01" |
| `location` | string (max 255) | M…ôkan | "Bakƒ±, N…ôsimi rayonu" |
| `max_capacity` | integer (min 1) | Maksimum i≈ütirak√ßƒ± sayƒ± | 20, 25, 30 |
| `instructor_title` | string (max 255) | M…ôkt…ôb√ßinin v…ôzif…ôsi | "Senior Developer" |
| `registration_status` | enum | Qeydiyyat statusu | "open", "closed", "full" |

**Qeyd:** `instructor_name` **YALNIZ** `trainer_id` g√∂nd…ôrilm…ôy…ôrs…ô m…ôcburidir.

### ‚úÖ OPSIONAL SAH∆èL∆èR (Optional)

| Sah…ô | Tip | T…ôsvir | N√ºmun…ô |
|------|-----|--------|--------|
| `trainer_id` | integer | Sistemd…ôki m…ôkt…ôb√ßinin ID-si | 5, 12 |
| `instructor_name` | string (max 255) | M…ôkt…ôb√ßinin adƒ± (trainer_id yoxdursa m…ôcburi) | "∆èli M…ômm…ôdov" |
| `instructor_initials` | string (max 10) | M…ôkt…ôb√ßinin ba≈ü h…ôrfl…ôri | "∆èM" |
| `instructor_photo_url` | string (max 500) | M…ôkt…ôb√ßinin ≈ü…ôkli URL | "https://example.com/photo.jpg" |
| `instructor_description` | string | M…ôkt…ôb√ßi haqqƒ±nda | "5 ildir developer kimi √ßalƒ±≈üƒ±r..." |
| `instructor_rating` | numeric (0-5) | M…ôkt…ôb√ßinin reytinqi | 4.5, 4.9 |
| `end_date` | date | Bitm…ô tarixi (start_date-d…ôn sonra) | "2024-05-01" |
| `last_register_date` | date | Son qeydiyyat tarixi | "2024-02-25" |
| `image` | file | Proqram ≈ü…ôkli (JPEG, PNG, JPG, GIF, max 2MB) | File object |
| `image_url` | string (max 500) | Proqram ≈ü…ôkli URL (image yoxdursa) | "https://example.com/image.jpg" |
| `is_featured` | boolean | T…ôqdim edil…ôn proqram | true, false |
| `cv_requirements` | string | CV t…ôl…ôbl…ôri | "HTML, CSS …ôsaslarƒ±" |
| `details_link` | string (max 500) | ∆èlav…ô link | "https://example.com/details" |
| `current_enrollment` | integer (min 0) | Cari i≈ütirak√ßƒ± sayƒ± (default: 0) | 0 |

### üìö ARRAY SAH∆èL∆èR (Array Fields)

#### 1. Modules (Modullar)
```javascript
modules: [
  {
    title: "HTML/CSS …ôsaslarƒ±",      // required, max 255
    description: "Web dizaynƒ±n …ôsaslarƒ±", // optional
    order: 1                          // optional, integer
  },
  {
    title: "JavaScript Fundamentals",
    description: "JavaScript proqramla≈üdƒ±rma",
    order: 2
  }
]
```

#### 2. Requirements (T…ôl…ôbl…ôr)
```javascript
requirements: [
  {
    requirement: "HTML v…ô CSS …ôsaslarƒ±", // required, max 500
    order: 1                               // optional, integer
  },
  {
    requirement: "JavaScript bilikl…ôri",
    order: 2
  }
]
```

#### 3. Goals (M…ôqs…ôdl…ôr)
```javascript
goals: [
  {
    goal: "Responsive web dizaynƒ± yarada bilm…ôk", // required, max 500
    order: 1                                       // optional, integer
  },
  {
    goal: "JavaScript il…ô interaktiv s…ôhif…ôl…ôr yaratmaq",
    order: 2
  }
]
```

## üéØ Frontend N√ºmun…ôsi (JavaScript/Vue.js)

### FormData il…ô G√∂nd…ôrm…ô
```javascript
// FormData yaradƒ±rƒ±q
const formData = new FormData();

// M…ôcburi sah…ôl…ôr
formData.append('title', 'Web Development Stajƒ±');
formData.append('description', 'M√ºasir web texnologiyalarƒ± √∂yr…ônm…ôk √º√ß√ºn praktiki staj proqramƒ±');
formData.append('category', 'IT');
formData.append('duration_weeks', '8');
formData.append('start_date', '2024-03-01');
formData.append('end_date', '2024-05-01'); // Opsional
formData.append('location', 'Bakƒ±, N…ôsimi rayonu');
formData.append('max_capacity', '20');
formData.append('instructor_title', 'Senior Full-Stack Developer');
formData.append('registration_status', 'open');

// Opsional sah…ôl…ôr
formData.append('trainer_id', '5'); // ∆èg…ôr sistemd…ôki m…ôkt…ôb√ßini se√ßibs…ô
// V∆è ya
formData.append('instructor_name', '∆èli M…ômm…ôdov'); // ∆èg…ôr trainer_id yoxdursa

formData.append('last_register_date', '2024-02-25');
formData.append('is_featured', 'true');
formData.append('instructor_description', '5 ildir web development sah…ôsind…ô √ßalƒ±≈üƒ±r');
formData.append('instructor_rating', '4.8');
formData.append('cv_requirements', 'HTML, CSS …ôsaslarƒ±, JavaScript bilikl…ôri');

// ≈û…ôkil y√ºkl…ôm…ô (opsional)
const imageFile = document.querySelector('input[type="file"]').files[0];
if (imageFile) {
  formData.append('image', imageFile);
}

// Array sah…ôl…ôr (JSON string kimi)
formData.append('modules', JSON.stringify([
  {
    title: 'HTML/CSS …ôsaslarƒ±',
    description: 'Web s…ôhif…ôl…ôrin strukturunu yaratmaq',
    order: 1
  },
  {
    title: 'JavaScript Fundamentals',
    description: 'JavaScript proqramla≈üdƒ±rma dilinin …ôsaslarƒ±',
    order: 2
  }
]));

formData.append('requirements', JSON.stringify([
  {
    requirement: 'HTML v…ô CSS …ôsaslarƒ±',
    order: 1
  },
  {
    requirement: 'JavaScript …ôsaslarƒ±',
    order: 2
  }
]));

formData.append('goals', JSON.stringify([
  {
    goal: 'Responsive web dizaynƒ± yarada bilm…ôk',
    order: 1
  },
  {
    goal: 'JavaScript il…ô interaktiv s…ôhif…ôl…ôr yarada bilm…ôk',
    order: 2
  }
]));

// API √ßaƒüƒ±rƒ±≈üƒ±
fetch('/api/v1/internship-programs', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer ' + adminToken
    // Content-Type qoyma - FormData avtomatik qoyur
  },
  body: formData
})
.then(response => response.json())
.then(data => {
  console.log('Success:', data);
})
.catch(error => {
  console.error('Error:', error);
});
```

### Axios il…ô G√∂nd…ôrm…ô
```javascript
import axios from 'axios';

const formData = new FormData();

// M…ôcburi sah…ôl…ôr
formData.append('title', 'Web Development Stajƒ±');
formData.append('description', 'M√ºasir web texnologiyalarƒ±...');
formData.append('category', 'IT');
formData.append('duration_weeks', '8');
formData.append('start_date', '2024-03-01');
formData.append('end_date', '2024-05-01'); // Opsional
formData.append('location', 'Bakƒ±, N…ôsimi rayonu');
formData.append('max_capacity', '20');
formData.append('instructor_title', 'Senior Full-Stack Developer');
formData.append('registration_status', 'open');

// Opsional sah…ôl…ôr
formData.append('trainer_id', '5');
formData.append('last_register_date', '2024-02-25');
formData.append('is_featured', 'true');

// ≈û…ôkil
if (imageFile) {
  formData.append('image', imageFile);
}

// Array sah…ôl…ôr
formData.append('modules', JSON.stringify([...]));
formData.append('requirements', JSON.stringify([...]));
formData.append('goals', JSON.stringify([...]));

axios.post('/api/v1/internship-programs', formData, {
  headers: {
    'Authorization': 'Bearer ' + adminToken,
    'Content-Type': 'multipart/form-data'
  }
})
.then(response => {
  console.log('Success:', response.data);
})
.catch(error => {
  console.error('Error:', error.response.data);
});
```

### Vue.js Composition API N√ºmun…ôsi
```vue
<template>
  <form @submit.prevent="createProgram">
    <input v-model="form.title" placeholder="Proqram Adƒ±" required />
    <textarea v-model="form.description" placeholder="T…ôsvir" required></textarea>
    <input v-model="form.category" placeholder="Kateqoriya" required />
    <input v-model="form.duration_weeks" type="number" placeholder="M√ºdd…ôt (h…ôft…ô)" required />
    <input v-model="form.start_date" type="date" required />
    <input v-model="form.location" placeholder="M…ôkan" required />
    <input v-model="form.max_capacity" type="number" placeholder="Maksimum i≈ütirak√ßƒ±" required />
    <input v-model="form.instructor_title" placeholder="M…ôkt…ôb√ßi v…ôzif…ôsi" required />
    <select v-model="form.registration_status" required>
      <option value="open">A√ßƒ±q</option>
      <option value="closed">Baƒülƒ±</option>
      <option value="full">Dolub</option>
    </select>
    <input type="file" @change="handleImageUpload" accept="image/*" />
    <button type="submit">Yarat</button>
  </form>
</template>

<script setup>
import { ref } from 'vue';
import axios from 'axios';

const form = ref({
  title: '',
  description: '',
  category: '',
  duration_weeks: '',
  start_date: '',
  end_date: '',
  location: '',
  max_capacity: '',
  instructor_title: '',
  registration_status: 'open',
  trainer_id: null,
  last_register_date: '',
  is_featured: false,
  modules: [],
  requirements: [],
  goals: []
});

const imageFile = ref(null);

const handleImageUpload = (event) => {
  imageFile.value = event.target.files[0];
};

const createProgram = async () => {
  const formData = new FormData();
  
  // M…ôcburi sah…ôl…ôr
  formData.append('title', form.value.title);
  formData.append('description', form.value.description);
  formData.append('category', form.value.category);
  formData.append('duration_weeks', form.value.duration_weeks);
  formData.append('start_date', form.value.start_date);
  formData.append('end_date', form.value.end_date); // Opsional
  formData.append('location', form.value.location);
  formData.append('max_capacity', form.value.max_capacity);
  formData.append('instructor_title', form.value.instructor_title);
  formData.append('registration_status', form.value.registration_status);
  
  // Opsional sah…ôl…ôr
  if (form.value.trainer_id) {
    formData.append('trainer_id', form.value.trainer_id);
  }
  if (form.value.last_register_date) {
    formData.append('last_register_date', form.value.last_register_date);
  }
  formData.append('is_featured', form.value.is_featured);
  
  // ≈û…ôkil
  if (imageFile.value) {
    formData.append('image', imageFile.value);
  }
  
  // Array sah…ôl…ôr
  if (form.value.modules.length > 0) {
    formData.append('modules', JSON.stringify(form.value.modules));
  }
  if (form.value.requirements.length > 0) {
    formData.append('requirements', JSON.stringify(form.value.requirements));
  }
  if (form.value.goals.length > 0) {
    formData.append('goals', JSON.stringify(form.value.goals));
  }
  
  try {
    const response = await axios.post('/api/v1/internship-programs', formData, {
      headers: {
        'Authorization': 'Bearer ' + localStorage.getItem('admin_token'),
        'Content-Type': 'multipart/form-data'
      }
    });
    console.log('Success:', response.data);
    alert('Proqram uƒüurla yaradƒ±ldƒ±!');
  } catch (error) {
    console.error('Error:', error.response.data);
    alert('X…ôta: ' + JSON.stringify(error.response.data.errors));
  }
};
</script>
```

## ‚ö†Ô∏è X∆èTA MESAJLARI

### Validasiya X…ôtalarƒ±
```json
{
  "message": "The given data was invalid.",
  "errors": {
    "title": ["The title field is required."],
    "start_date": ["The start date field must be a date after or equal to today."],
    "max_capacity": ["The max capacity must be at least 1."],
    "image": ["The image must be an image.", "The image may not be greater than 2048 kilobytes."]
  }
}
```

### Autentifikasiya X…ôtalarƒ±
```json
{
  "message": "Unauthorized",
  "status": 401
}
```

### ƒ∞caz…ô X…ôtalarƒ±
```json
{
  "message": "This action is unauthorized.",
  "status": 403
}
```

## ‚úÖ UƒûURLU CAVAB
```json
{
  "message": "Internship program created successfully",
  "program": {
    "id": 3,
    "title": "Web Development Stajƒ±",
    "description": "...",
    "category": "IT",
    "duration_weeks": 8,
    "start_date": "2024-03-01",
    "location": "Bakƒ±, N…ôsimi rayonu",
    "max_capacity": 20,
    "registration_status": "open",
    "modules": [...],
    "requirements": [...],
    "goals": [...]
  }
}
```

## üìù QEYDL∆èR

1. **Content-Type**: `multipart/form-data` istifad…ô edilm…ôlidir (≈ü…ôkil y√ºkl…ôm…ô √º√ß√ºn)
2. **≈û…ôkil**: Maksimum 2MB, formatlar: JPEG, PNG, JPG, GIF
3. **Array sah…ôl…ôr**: JSON string kimi g√∂nd…ôrilir
4. **trainer_id vs instructor_name**: 
   - ∆èg…ôr `trainer_id` g√∂nd…ôrilirs…ô, `instructor_name` t…ôl…ôb olunmur
   - ∆èg…ôr `trainer_id` g√∂nd…ôrilmirs…ô, `instructor_name` m…ôcburidir
5. **Tarixl…ôr**: ISO formatƒ±nda (YYYY-MM-DD)
6. **Boolean**: `true`/`false` string kimi g√∂nd…ôrilir
7. **Integer**: String kimi g√∂nd…ôril…ô bil…ôr (avtomatik √ßevrilir)
